Compiling high level compute intensive kernels to FPGAs via an abstract overlay architecture has been demonstrated as an effective way to improve designers' productivity. Furthermore, by customizing the overlay architecture specifically to the user application, it offers a unique opportunity to significantly improve the power-performance of the resulting accelerators. However, achieving the desired performance and overhead constraints requires exploration in a complex design space involving multiple architectural parameters. It is a daunting task for even the most experienced designer, counteracting the benefit of utilizing an overlay architecture as a productivity enhancer.

In this work, an automatic overlay customization framework targeting nested loop acceleration on a hybrid CPU-FPGA system is presented.
Using a soft coarse-grained reconfigurable array as an overlay, the customization framework provides not only architectural customization, but also high level compilation options and communication customization between the accelerator and host CPU. Taking advantage of the monotonic influence on performance from major design parameters, the design space was effectively pruned using simple marginal performance revenue metric into a feasible region. Within the feasible design space, optimal customizations for various design goals including performance, energy and energy delay product can then be searched rapidly. Experiments show that our marginal performance revenue aware search can achieve similar Pareto-optimal curve to that acquired by using an exhaustive search while its run time is around two orders of magnitude shorter on average.



